$.rails.confirm=function(t,e){function o(){n--,n>0&&(setTimeout(o,1e3),$(".voteTimer").html(n)),0==n&&$(".voteTimer").html("")}var i=e.data("state"),a=e.text(),r=3e3,n=3;return $(".voteTimerBar").animate({width:"0%"},3e3,function(){$(this).css({width:"100%"})}),i?!0:($(".voteTimer").html(n),setTimeout(o,1e3),e.data("state","last"),e.text("Click to confirm"),setTimeout(function(){e.data("state",null),e.text(a)},r),!1)},$.rails.allowAction=function(t){var a,e=t.data("confirm"),i=!1;return e?($.rails.fire(t,"confirm")&&(i=$.rails.confirm(e,t),a=$.rails.fire(t,"confirm:complete",[i])),i&&a):!0},$.rails.handleLink=function(t){return void 0!==t.data("remote")?$.rails.handleRemote(t):t.data("method")&&$.rails.handleMethod(t),!1};